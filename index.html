<div id="code"></div>
<button onclick="copy()">Copy</button>

<script>
  const urlParam = new URLSearchParams(window.location.hash).get("#access_token");
  if(!urlParam) {
    window.location.href = "https://id.twitch.tv/oauth2/authorize?client_id=ttpg609zqkcgru79fm26g6llfjeagd&redirect_uri=https://justthatrio.github.io/MetaWatcher/&response_type=token&scope=chat:edit%20chat:read%20channel:moderate%20moderator:manage:chat_messages";
  }else{
    document.querySelector("#code").innerText = urlParam;
  }
  
  function copy() {
  // Get the text field
  var copyText = document.querySelector("#code");

  // Select the text field
  if(copyText.select) copyText.select();
  if(copyText.setSelectionRange) copyText.setSelectionRange(0, 99999); // For mobile devices

   // Copy the text inside the text field
  navigator.clipboard.writeText(copyText.innerText);

  // Alert the copied text
  alert("Copied the code!");
}
</script>
<style type="text/css">
  
#code {
  box-shadow: #00000091 0px 4px 10px -4px, #0000001c 0px 0px 2px 1px;
  margin: auto;
  padding: 8px;
  border-radius: 8px;
  min-width: 30vw;
  text-align: center;
  font-size: 1.5em;
  margin-right: 10px;
  background-color: #86e8ff3b;
  color: #055f82;
  font-weight: bold;
  font-family: arial;
}
body {
  display: flex;
  padding: 5vw;
}
button {
  margin-right: auto;
  border-radius: 8px;
  background-color: #875bff3b;
  box-shadow: #00000091 0px 4px 10px -4px, #0000001c 0px 0px 2px 1px;
  border: none;
  padding: 0px 30px;
}
button:hover {
  filter: brightness(1.6);
}
  </style>
